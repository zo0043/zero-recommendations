# 搜索推荐词采集助手 - 统一界面更新

## 概述

为了优化用户体验，我们对"搜索推荐词采集助手"Chrome扩展进行了重大更新，实现了一个统一的操作界面。这一更新简化了用户操作流程，减少了不必要的页面跳转，并通过更合理的设计减少了界面空白区域。

## 主要改进

### 1. 界面统一

- **单一窗口操作**：将原先的popup和extract两个窗口合并为一个统一界面
- **三段式流程设计**：输入 → 处理 → 结果，全部在一个界面中完成
- **状态可视化**：清晰展示当前处理状态，包括进度和错误信息

### 2. 视觉优化

- **减少空白区域**：界面更加紧凑，利用率更高
- **统一风格**：全面采用现代简约风格，保持一致的视觉语言
- **响应式布局**：更好地适应不同大小的窗口

### 3. 功能增强

- **状态持久化**：记住用户上次使用的设置和输入
- **取消操作**：增加取消提取的功能，提高用户控制度
- **错误处理**：更直观的错误反馈和超时处理

## 技术实现

### 文件结构变更

- 新增 `unified-extract.html`：统一界面的HTML文件
- 新增 `js/unified-extract.js`：统一界面的逻辑控制文件
- 更新 `manifest.json`：将popup入口指向新的统一界面
- 修改 `js/content-script.js`：调整消息传递逻辑

### 界面设计

统一界面包含三个主要页面，通过显示/隐藏切换：

1. **输入页面 (inputPage)**
   - 关键词输入框
   - 采集层级选择
   - 开始提取按钮

2. **状态页面 (statusPage)**
   - 加载动画
   - 状态文本
   - 取消按钮

3. **结果页面 (resultPage)**
   - 采集层级和关键词信息
   - 结果列表
   - 导出和新提取按钮

### 数据流变更

原先的数据流需要在多个窗口间传递：
```
content-script → background → extract.html
```

新的数据流更加直接：
```
content-script → unified-extract.html
```

### 状态管理

使用Chrome存储API实现状态持久化：
- `chrome.storage.local.get/set('current_extraction')`：存储当前提取状态
- `chrome.storage.local.get/set('keywords')`：记住用户输入的关键词
- `chrome.storage.local.get/set('setting')`：保存采集层级等设置

## 用户体验改进

1. **减少操作步骤**：从原来的"点击扩展 → 输入 → 新窗口打开 → 查看结果 → 关闭窗口"，简化为"点击扩展 → 输入 → 查看结果"

2. **状态即时反馈**：提取过程中的状态变化直接在同一界面展示，无需跳转

3. **界面更加紧凑**：移除了多余的空白和冗余元素，使界面更加简洁高效

4. **错误处理优化**：同一界面显示错误信息，并提供重试选项

## 后续优化方向

1. **进度显示**：添加更详细的进度显示，如已提取关键词数量/总数

2. **批量操作**：支持批量导出和管理采集结果

3. **历史记录**：记录历史采集结果，方便用户查看和对比

4. **主题支持**：增强暗色模式支持和视觉选项 